{"ast":null,"code":"import axios from \"axios\";\nimport { AUTH_SUCCESS } from \"./actionTypes\";\nexport function auth(email, password, isLogin) {\n  return async dispatch => {\n    const authData = {\n      email,\n      password,\n      returnSecureToken: true\n    };\n    let url = \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCR6XVI_5wH5fn4NcjA63kVMFqZsZcityE\";\n    if (!isLogin) url = \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCR6XVI_5wH5fn4NcjA63kVMFqZsZcityE\";\n    const response = await axios.post(url, authData);\n    const data = response.data;\n    const expiration = new Date(new Date().getTime() + data.expiresIn * 1000);\n    localStorage.setItem(\"token\", data.idToken);\n    localStorage.setItem(\"userId\", data.localId);\n    localStorage.setItem(\"expirationDate\", expiration);\n    authSuccess(data.idToken);\n  };\n}\nexport function authSuccess(token) {\n  return {\n    type: AUTH_SUCCESS,\n    token\n  };\n}\nexport function autoLogout() {\n  return dispatch => {\n    setTimeout();\n  };\n}","map":{"version":3,"sources":["D:\\Desktop\\React\\react-quiz\\src\\store\\actions\\auth.js"],"names":["axios","AUTH_SUCCESS","auth","email","password","isLogin","dispatch","authData","returnSecureToken","url","response","post","data","expiration","Date","getTime","expiresIn","localStorage","setItem","idToken","localId","authSuccess","token","type","autoLogout","setTimeout"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,eAA7B;AAEA,OAAO,SAASC,IAAT,CAAcC,KAAd,EAAqBC,QAArB,EAA+BC,OAA/B,EAAwC;AAC3C,SAAO,MAAMC,QAAN,IAAkB;AACrB,UAAMC,QAAQ,GAAG;AACbJ,MAAAA,KADa;AAEbC,MAAAA,QAFa;AAGbI,MAAAA,iBAAiB,EAAE;AAHN,KAAjB;AAMA,QAAIC,GAAG,GAAG,mHAAV;AAEA,QAAI,CAACJ,OAAL,EACII,GAAG,GAAG,uGAAN;AAEJ,UAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAN,CAAWF,GAAX,EAAgBF,QAAhB,CAAvB;AACA,UAAMK,IAAI,GAAGF,QAAQ,CAACE,IAAtB;AAEA,UAAMC,UAAU,GAAG,IAAIC,IAAJ,CAAS,IAAIA,IAAJ,GAAWC,OAAX,KAAuBH,IAAI,CAACI,SAAL,GAAiB,IAAjD,CAAnB;AAEAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BN,IAAI,CAACO,OAAnC;AACAF,IAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BN,IAAI,CAACQ,OAApC;AACAH,IAAAA,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAuCL,UAAvC;AAEAQ,IAAAA,WAAW,CAACT,IAAI,CAACO,OAAN,CAAX;AACH,GAtBD;AAuBH;AAED,OAAO,SAASE,WAAT,CAAqBC,KAArB,EAA4B;AAC/B,SAAO;AACHC,IAAAA,IAAI,EAAEtB,YADH;AAEHqB,IAAAA;AAFG,GAAP;AAIH;AAED,OAAO,SAASE,UAAT,GAAsB;AACzB,SAAOlB,QAAQ,IAAI;AACfmB,IAAAA,UAAU;AACb,GAFD;AAGH","sourcesContent":["import axios from \"axios\"\r\nimport { AUTH_SUCCESS } from \"./actionTypes\"\r\n\r\nexport function auth(email, password, isLogin) {\r\n    return async dispatch => {\r\n        const authData = {\r\n            email,\r\n            password,\r\n            returnSecureToken: true\r\n        }\r\n\r\n        let url = \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCR6XVI_5wH5fn4NcjA63kVMFqZsZcityE\"\r\n\r\n        if (!isLogin)\r\n            url = \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCR6XVI_5wH5fn4NcjA63kVMFqZsZcityE\"\r\n\r\n        const response = await axios.post(url, authData);\r\n        const data = response.data;\r\n\r\n        const expiration = new Date(new Date().getTime() + data.expiresIn * 1000)\r\n\r\n        localStorage.setItem(\"token\", data.idToken);\r\n        localStorage.setItem(\"userId\", data.localId);\r\n        localStorage.setItem(\"expirationDate\", expiration);\r\n\r\n        authSuccess(data.idToken);\r\n    }\r\n}\r\n\r\nexport function authSuccess(token) {\r\n    return {\r\n        type: AUTH_SUCCESS,\r\n        token\r\n    }\r\n}\r\n\r\nexport function autoLogout() {\r\n    return dispatch => {\r\n        setTimeout()\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}